


<div class="container-fluid">
	<!-- Header -->
	<div class="alert alert-light" role="alert">
		<h3 class="alert-heading">Pledges : <mark>{{ data.rows|length|number }}</mark> created in FY{{ fy }}</h3>
		<p>Listing pledges created in FY{{ fy }}, sorted newest to oldest (date of pledge creation)
		</p>
	</div>


	<!-- Table -->
	<div class="table-responsive-lg">
		<table class="table table-sm table-hover" id="pledges">
			<caption><strong>Data Captured : </strong>{{ data.timestamp|dtAU }}, result will be cached for {{ '{:,}'.format(data.cached_timeout) }} seconds</caption>
			<thead>
				<tr class="table-dark">
					{% for header in data.headers %}
					<th scope="col">{{ header|title }}</th>
					{% endfor %}
				</tr>
			</thead><!-- End of Table Head -->
			<tbody>{% for row in data.rows %}

				{% set err_tring = ':BLANK' %}
				{% if row.DESCRIPTION == err_tring or row.RECRUITCAMPAIGN == err_tring  or row.STATUS == err_tring or row.PLAN == err_tring or row.TYPE == err_tring or row.PAYMENTFREQUENCY == err_tring or row.PAYMENTTYPE == err_tring %}
					{% set row_type = 'table-danger' %}
				{% elif row.SOURCECODES|int != 1 or row.RECRUITMETHOD == err_tring %}
					{% set row_type = 'table-warning' %}
				{% else %}
					{% set row_type = 'table-light' %}
				{% endif %}

				<tr class="{{ row_type }}">

					{% for col in row %}
					{% if loop.index == 1 %}
						<th scope="row">
							{{ col }}
						</th>
					{% else %}
						<td>
							{% if col == ':BLANK'  %}
							<span class="badge badge-danger">{{ col }}</span>
							{% else %}
							<span>{{ col }}</span>
							{% endif %}
						</td>
					{% endif %}
					{% endfor %}
				</tr>
			{% endfor %}
			</tbody><!-- End of Table Body -->
		</table><!-- End of Table -->
	</div><!-- End of Table Responsive -->
</div><!-- End Container -->